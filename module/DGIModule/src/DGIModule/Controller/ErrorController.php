<?php/** * @link      https://github.com/demodyne/demodyne * @copyright Copyright (c) 2015-2017 Demodyne (https://www.demodyne.org) * @license   http://www.gnu.org/licenses/agpl.html GNU Affero General Public License */namespace DGIModule\Controller;use Zend\Mvc\Controller\AbstractActionController;use Zend\View\Model\ViewModel;class ErrorController extends AbstractActionController{       /**     * Help action to show Access denied message with code 403     *      * Exemple: return $this->forward()->dispatch('DGIModule\Controller\Error', array('action' => 'access-denied'));     *      */    public function accessDeniedAction()    {        $viewModel = new ViewModel();        $viewModel->setTerminal($this->getRequest()->isXmlHttpRequest());        $dialog = $this->params()->fromRoute('dialog', false);        if ($dialog) {            $viewModel->setTemplate('dgi-module/error/access-denied-dialog.phtml');        }        return $viewModel;    }        public function errorAction()    {                $dialog = $this->params()->fromRoute('dialog', false);        $message = $this->params()->fromRoute('message', '');        $viewModel = new ViewModel(['message'=> $message]);        $viewModel->setTerminal($this->getRequest()->isXmlHttpRequest());        if ($dialog) {            $viewModel->setTemplate('dgi-module/error/error-dialog.phtml');        }        return $viewModel;    }        }